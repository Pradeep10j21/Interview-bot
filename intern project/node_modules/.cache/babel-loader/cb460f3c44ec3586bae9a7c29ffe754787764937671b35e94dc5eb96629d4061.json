{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { getQuestionsForCompany, analyzeAnswer } from '../utils/AIInterviewLogic';\nexport function useInterviewLogic(companyId) {\n  _s();\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [questions, setQuestions] = useState([]);\n  const [answers, setAnswers] = useState([]);\n  const [isInterviewActive, setIsInterviewActive] = useState(false);\n  useEffect(() => {\n    const companyQuestions = getQuestionsForCompany(companyId);\n    setQuestions(companyQuestions);\n  }, [companyId]);\n  const startInterview = () => {\n    setIsInterviewActive(true);\n    setCurrentQuestionIndex(0);\n    setAnswers([]);\n  };\n  const stopInterview = () => {\n    setIsInterviewActive(false);\n  };\n  const saveAnswer = (questionIndex, answerText) => {\n    const question = questions[questionIndex];\n    if (!question || !answerText || answerText.trim().length === 0) return;\n    const analysis = analyzeAnswer(answerText, question);\n    const answer = {\n      questionIndex,\n      question: question.question,\n      answer: answerText,\n      analysis\n    };\n    setAnswers(prev => {\n      const newAnswers = [...prev];\n      newAnswers[questionIndex] = answer;\n      return newAnswers;\n    });\n\n    // Only move to next question if we haven't already answered it\n    // and we're not at the last question\n    if (questionIndex < questions.length - 1) {\n      const nextIndex = questionIndex + 1;\n      // Use functional update to ensure we're using the latest state\n      setTimeout(() => {\n        setCurrentQuestionIndex(nextIndex);\n      }, 2000);\n    }\n  };\n  const getResults = () => {\n    const allAnalyses = answers.map(a => a.analysis).filter(Boolean);\n    if (allAnalyses.length === 0) {\n      return {\n        overallScore: 0,\n        skillBreakdown: {\n          communication: 0,\n          confidence: 0,\n          technicalClarity: 0\n        },\n        strengths: [],\n        improvements: [],\n        suggestions: []\n      };\n    }\n    const avgCommunication = allAnalyses.reduce((sum, a) => sum + a.communication, 0) / allAnalyses.length;\n    const avgConfidence = allAnalyses.reduce((sum, a) => sum + a.confidence, 0) / allAnalyses.length;\n    const avgTechnical = allAnalyses.reduce((sum, a) => sum + a.technicalClarity, 0) / allAnalyses.length;\n    const overallScore = Math.round((avgCommunication + avgConfidence + avgTechnical) / 3);\n    const strengths = [];\n    const improvements = [];\n    if (avgCommunication >= 70) {\n      strengths.push('Clear and articulate communication');\n    } else {\n      improvements.push('Work on speaking more clearly and structuring your thoughts');\n    }\n    if (avgConfidence >= 70) {\n      strengths.push('Confident delivery and presence');\n    } else {\n      improvements.push('Practice speaking with more confidence and conviction');\n    }\n    if (avgTechnical >= 70) {\n      strengths.push('Strong technical understanding');\n    } else {\n      improvements.push('Enhance technical depth in your explanations');\n    }\n    if (allAnalyses.every(a => a.length >= 50)) {\n      strengths.push('Comprehensive and detailed answers');\n    } else {\n      improvements.push('Provide more detailed and complete answers');\n    }\n    const suggestions = ['Practice answering common interview questions out loud', 'Record yourself and review your delivery', 'Prepare specific examples from your experience', 'Focus on clear, concise communication', 'Take time to think before answering'];\n    return {\n      overallScore,\n      skillBreakdown: {\n        communication: Math.round(avgCommunication),\n        confidence: Math.round(avgConfidence),\n        technicalClarity: Math.round(avgTechnical)\n      },\n      strengths,\n      improvements,\n      suggestions,\n      answers\n    };\n  };\n  return {\n    currentQuestionIndex,\n    questions,\n    answers,\n    isInterviewActive,\n    startInterview,\n    stopInterview,\n    saveAnswer,\n    getResults\n  };\n}\n_s(useInterviewLogic, \"2Gxl8ioqn9sKVnv+Ww8zpZYduq0=\");","map":{"version":3,"names":["useState","useEffect","getQuestionsForCompany","analyzeAnswer","useInterviewLogic","companyId","_s","currentQuestionIndex","setCurrentQuestionIndex","questions","setQuestions","answers","setAnswers","isInterviewActive","setIsInterviewActive","companyQuestions","startInterview","stopInterview","saveAnswer","questionIndex","answerText","question","trim","length","analysis","answer","prev","newAnswers","nextIndex","setTimeout","getResults","allAnalyses","map","a","filter","Boolean","overallScore","skillBreakdown","communication","confidence","technicalClarity","strengths","improvements","suggestions","avgCommunication","reduce","sum","avgConfidence","avgTechnical","Math","round","push","every"],"sources":["C:/Users/DEll india/OneDrive/Desktop/intern project/src/hooks/useInterviewLogic.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { getQuestionsForCompany, analyzeAnswer } from '../utils/AIInterviewLogic';\r\n\r\nexport function useInterviewLogic(companyId) {\r\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\r\n  const [questions, setQuestions] = useState([]);\r\n  const [answers, setAnswers] = useState([]);\r\n  const [isInterviewActive, setIsInterviewActive] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const companyQuestions = getQuestionsForCompany(companyId);\r\n    setQuestions(companyQuestions);\r\n  }, [companyId]);\r\n\r\n  const startInterview = () => {\r\n    setIsInterviewActive(true);\r\n    setCurrentQuestionIndex(0);\r\n    setAnswers([]);\r\n  };\r\n\r\n  const stopInterview = () => {\r\n    setIsInterviewActive(false);\r\n  };\r\n\r\n  const saveAnswer = (questionIndex, answerText) => {\r\n    const question = questions[questionIndex];\r\n    if (!question || !answerText || answerText.trim().length === 0) return;\r\n\r\n    const analysis = analyzeAnswer(answerText, question);\r\n    \r\n    const answer = {\r\n      questionIndex,\r\n      question: question.question,\r\n      answer: answerText,\r\n      analysis\r\n    };\r\n\r\n    setAnswers(prev => {\r\n      const newAnswers = [...prev];\r\n      newAnswers[questionIndex] = answer;\r\n      return newAnswers;\r\n    });\r\n\r\n    // Only move to next question if we haven't already answered it\r\n    // and we're not at the last question\r\n    if (questionIndex < questions.length - 1) {\r\n      const nextIndex = questionIndex + 1;\r\n      // Use functional update to ensure we're using the latest state\r\n      setTimeout(() => {\r\n        setCurrentQuestionIndex(nextIndex);\r\n      }, 2000);\r\n    }\r\n  };\r\n\r\n  const getResults = () => {\r\n    const allAnalyses = answers.map(a => a.analysis).filter(Boolean);\r\n    \r\n    if (allAnalyses.length === 0) {\r\n      return {\r\n        overallScore: 0,\r\n        skillBreakdown: {\r\n          communication: 0,\r\n          confidence: 0,\r\n          technicalClarity: 0\r\n        },\r\n        strengths: [],\r\n        improvements: [],\r\n        suggestions: []\r\n      };\r\n    }\r\n\r\n    const avgCommunication = allAnalyses.reduce((sum, a) => sum + a.communication, 0) / allAnalyses.length;\r\n    const avgConfidence = allAnalyses.reduce((sum, a) => sum + a.confidence, 0) / allAnalyses.length;\r\n    const avgTechnical = allAnalyses.reduce((sum, a) => sum + a.technicalClarity, 0) / allAnalyses.length;\r\n\r\n    const overallScore = Math.round((avgCommunication + avgConfidence + avgTechnical) / 3);\r\n\r\n    const strengths = [];\r\n    const improvements = [];\r\n\r\n    if (avgCommunication >= 70) {\r\n      strengths.push('Clear and articulate communication');\r\n    } else {\r\n      improvements.push('Work on speaking more clearly and structuring your thoughts');\r\n    }\r\n\r\n    if (avgConfidence >= 70) {\r\n      strengths.push('Confident delivery and presence');\r\n    } else {\r\n      improvements.push('Practice speaking with more confidence and conviction');\r\n    }\r\n\r\n    if (avgTechnical >= 70) {\r\n      strengths.push('Strong technical understanding');\r\n    } else {\r\n      improvements.push('Enhance technical depth in your explanations');\r\n    }\r\n\r\n    if (allAnalyses.every(a => a.length >= 50)) {\r\n      strengths.push('Comprehensive and detailed answers');\r\n    } else {\r\n      improvements.push('Provide more detailed and complete answers');\r\n    }\r\n\r\n    const suggestions = [\r\n      'Practice answering common interview questions out loud',\r\n      'Record yourself and review your delivery',\r\n      'Prepare specific examples from your experience',\r\n      'Focus on clear, concise communication',\r\n      'Take time to think before answering'\r\n    ];\r\n\r\n    return {\r\n      overallScore,\r\n      skillBreakdown: {\r\n        communication: Math.round(avgCommunication),\r\n        confidence: Math.round(avgConfidence),\r\n        technicalClarity: Math.round(avgTechnical)\r\n      },\r\n      strengths,\r\n      improvements,\r\n      suggestions,\r\n      answers\r\n    };\r\n  };\r\n\r\n  return {\r\n    currentQuestionIndex,\r\n    questions,\r\n    answers,\r\n    isInterviewActive,\r\n    startInterview,\r\n    stopInterview,\r\n    saveAnswer,\r\n    getResults\r\n  };\r\n}\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}